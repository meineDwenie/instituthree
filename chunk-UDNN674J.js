import{a as D}from"./chunk-EODS5XWJ.js";import"./chunk-FVYHVRV5.js";import{b as C,e as B,i as b,m as _}from"./chunk-PISVHEAV.js";import"./chunk-HTZZNW57.js";import{a as v,b as l,d as M,e as x,g as y,h as w,i as P,j as O,l as R}from"./chunk-APNF3DUL.js";import"./chunk-7UQJIBI4.js";import{$a as u,Cb as m,Na as j,Nb as i,Pa as g,Ua as d,X as N,aa as I,eb as q,lb as p,nb as z,ta as h,ub as t,vb as o,wb as s,wc as A,yc as f}from"./chunk-KVRVRAPV.js";var S=class a{constructor(r,e){this.fb=r;this.router=e;this.loginForm=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required]]})}switchToRegister=new h;onSwitchToRegister(){this.switchToRegister.emit()}loginForm;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onLogin(){if(this.loginForm.valid){let{email:r,password:e}=this.loginForm.value;this.router.navigate(["/user-management"]),console.log("Login with:",r,e)}else console.log("Form is invalid")}onRegister(){this.router.navigate(["/user-management"])}static \u0275fac=function(e){return new(e||a)(d(O),d(b))};static \u0275cmp=u({type:a,selectors:[["app-login-form"]],outputs:{switchToRegister:"switchToRegister"},decls:27,vars:2,consts:[[1,"login-form-container"],[1,"buttonsContainer"],["href","javascript:void(0)",1,"buttonShifting1"],["href","javascript:void(0)",1,"buttonShifting2",3,"click"],[1,"contenido"],[1,"contenedorEtiqueta"],[1,"etiqueta"],[3,"ngSubmit","formGroup"],["for","emailLogin"],[1,"letralabel"],["type","email","id","emailLogin","formControlName","email","placeholder","example@email.com"],["for","passwordLogin"],["type","password","id","passwordLogin","formControlName","password","placeholder","Enter your password here"],["type","submit",1,"signupButton",3,"disabled"],[1,"etiquetaRegistro"],["href","javascript:void(0)",3,"click"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div",1)(2,"a",2),i(3,"Login"),o(),t(4,"a",3),m("click",function(){return n.onSwitchToRegister()}),i(5,"Create Account"),o()(),t(6,"div",4)(7,"div",5)(8,"h1",6),i(9,"Let's login your details to start."),o()(),t(10,"div")(11,"form",7),m("ngSubmit",function(){return n.onLogin()}),t(12,"label",8)(13,"b",9),i(14,"E-mail address"),o()(),s(15,"input",10),t(16,"label",11)(17,"b"),i(18,"Password"),o()(),s(19,"input",12),t(20,"button",13),i(21," Enter "),o()(),t(22,"p",14),i(23," Don't have any account yet? "),t(24,"a",15),m("click",function(){return n.onSwitchToRegister()}),t(25,"b"),i(26,"Register"),o()()()()()()),e&2&&(g(11),p("formGroup",n.loginForm),g(9),p("disabled",n.loginForm.invalid))},dependencies:[R,y,v,M,x,w,P,f,_],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.login-form-container[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:34px 26px;border-radius:20px;display:flex;flex-direction:column;background:#fff;box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.contenido[_ngcontent-%COMP%]{margin:0;width:100%;flex:1}.contenedorEtiqueta[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;margin-bottom:1rem}.etiqueta[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;font-weight:300;font-size:1.5rem;align-self:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}label[_ngcontent-%COMP%]{font-family:sans-serif;margin-bottom:8px}input[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:20px;padding:12px;border:1px solid #000000;height:auto;width:100%;box-sizing:border-box}.signupButton[_ngcontent-%COMP%]{background-color:#313131;color:#fff;font-weight:500;font-size:16px;font-family:Murecho,sans-serif;border-radius:10px;padding:12px 20px;border:none;cursor:pointer;transition:background-color .3s}.signupButton[_ngcontent-%COMP%]:hover{background-color:#26a08c}.signupButton[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.etiquetaRegistro[_ngcontent-%COMP%]{text-align:center;font-family:Murecho,sans-serif;margin-top:1rem;cursor:pointer}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;color:inherit;text-decoration:none}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.buttonsContainer[_ngcontent-%COMP%]{display:flex;border:2px solid black;border-radius:10px;width:80%;max-width:350px;justify-content:center;align-items:center;margin:0 auto;align-self:center}.buttonShifting1[_ngcontent-%COMP%], .buttonShifting2[_ngcontent-%COMP%]{flex:1;text-align:center;min-width:130px;margin:5px;font-family:Murecho,sans-serif;border-radius:10px;padding:10px 15px;cursor:pointer;border:none;transition:background-color .3s;text-decoration:none;display:inline-flex;justify-content:center;align-items:center;font-size:14px}.buttonShifting1[_ngcontent-%COMP%]{background-color:#313131;color:#fff}.buttonShifting2[_ngcontent-%COMP%]{background-color:#fff;color:#000}.buttonShifting1[_ngcontent-%COMP%]:hover{background-color:#000}.buttonShifting2[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#d9534f;font-size:.85rem}"]})};var F=class a{constructor(r){this.http=r}baseUrl="https://registerapp.up.railway.app/api";registerUser(r){return this.http.post(this.baseUrl+"/register",r)}static \u0275fac=function(e){return new(e||a)(I(C))};static \u0275prov=N({token:a,factory:a.\u0275fac,providedIn:"root"})};function W(a,r){a&1&&(t(0,"div",24)(1,"small"),i(2,"Passwords do not match"),o()())}var k=class a{constructor(r,e,n,c){this.fb=r;this.router=e;this.registerService=n;this.http=c;this.registerForm=this.fb.group({username:["",[l.required]],email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]],confirmPassword:["",[l.required]],name:["",[l.required]],lastName:["",[l.required]]},{validators:this.passwordMatchValidator})}switchToLogin=new h;registerForm;ngOnInit(){throw this.onRegister(),new Error("Method not implemented.")}passwordMatchValidator(r){let e=r.get("password"),n=r.get("confirmPassword");return e&&n&&e.value!==n.value?{passwordMismatch:!0}:null}onSwitchToLogin(){this.switchToLogin.emit()}onRegister(){if(this.registerForm.valid){let{username:r,email:e,password:n,name:c,lastName:L}=this.registerForm.value,H={username:r,password:n,email:e,name:c,lastName:L};console.log("Register with:",r,e,n,c,L),this.http.post("https://registerapp.up.railway.app/api/register",H).subscribe({next:E=>{console.log("Registration successful:",E),this.router.navigate(["/user-management"])},error:E=>{console.error("Registration failed:",E)}})}else Object.keys(this.registerForm.controls).forEach(r=>{this.registerForm.get(r)?.markAsTouched()}),console.log("Form is invalid")}static \u0275fac=function(e){return new(e||a)(d(O),d(b),d(F),d(C))};static \u0275cmp=u({type:a,selectors:[["app-register-form"]],outputs:{switchToLogin:"switchToLogin"},decls:37,vars:3,consts:[[1,"register-form-container"],[1,"buttonsContainer"],["href","javascript:void(0)",1,"buttonShifting1",3,"click"],["href","javascript:void(0)",1,"buttonShifting2"],[1,"content"],[1,"labelContainer"],[1,"etiqueta"],[3,"ngSubmit","formGroup"],["for","usernameRegisterInput"],["type","text","id","usernameRegisterInput","formControlName","username","placeholder","Choose a username"],["for","emailRegisterInput"],["type","email","id","emailRegisterInput","formControlName","email","placeholder","example@email.com"],["for","passwordRegisterInput"],["type","password","id","passwordRegisterInput","formControlName","password","placeholder","Enter your password"],["for","passwordRepetitionRegisterInput"],["type","password","id","passwordRepetitionRegisterInput","formControlName","confirmPassword","placeholder","Enter your password again"],["for","nameRegisterInput"],["type","text","id","nameRegisterInput","formControlName","name","placeholder","Enter your name"],["for","lastNamesRegisterInput"],["type","text","id","lastNamesRegisterInput","formControlName","lastName","placeholder","Enter your last name"],["class","error",4,"ngIf"],["type","submit",1,"createAccountButton",3,"disabled"],[1,"etiquetaRegistro"],["href","javascript:void(0)",3,"click"],[1,"error"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div",1)(2,"a",2),m("click",function(){return n.onSwitchToLogin()}),i(3,"Login"),o(),t(4,"a",3),i(5,"Create Account"),o()(),t(6,"div",4)(7,"div",5)(8,"h1",6),i(9,"Let's create your account."),o()(),t(10,"form",7),m("ngSubmit",function(){return n.onRegister()}),t(11,"label",8),i(12,"Username"),o(),s(13,"input",9),t(14,"label",10),i(15,"Email"),o(),s(16,"input",11),t(17,"label",12),i(18,"Password"),o(),s(19,"input",13),t(20,"label",14),i(21,"Confirm Password"),o(),s(22,"input",15),t(23,"label",16),i(24,"Name"),o(),s(25,"input",17),t(26,"label",18),i(27,"Last Name"),o(),s(28,"input",19),q(29,W,3,0,"div",20),t(30,"button",21),i(31," Create Account "),o()(),t(32,"p",22),i(33," Already have an account? "),t(34,"a",23),m("click",function(){return n.onSwitchToLogin()}),t(35,"b"),i(36,"Login"),o()()()()()),e&2&&(g(10),p("formGroup",n.registerForm),g(19),p("ngIf",n.registerForm.hasError("passwordMismatch")),g(),p("disabled",n.registerForm.invalid))},dependencies:[R,y,v,M,x,w,P,f,A,_,B],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.register-form-container[_ngcontent-%COMP%]{width:100%;max-width:450px;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}input[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:15px;padding:12px;border:1px solid #000000;height:auto;width:100%;box-sizing:border-box}label[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;margin-bottom:6px;font-weight:500}.labelContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-bottom:10px}.etiqueta[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;font-weight:300;font-size:1.5rem;margin:0;align-self:center}.etiquetaRegistro[_ngcontent-%COMP%]{margin-top:10px;font-family:Murecho,sans-serif;align-self:center;text-align:center}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;color:inherit;text-decoration:none}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.createAccountButton[_ngcontent-%COMP%]{background-color:#313131;color:#fff;font-family:Murecho,sans-serif;border:none;border-radius:10px;padding:15px;cursor:pointer;font-size:1rem;margin-top:10px}.createAccountButton[_ngcontent-%COMP%]:hover{background-color:#000}.createAccountButton[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.buttonsContainer[_ngcontent-%COMP%]{display:flex;border:2px solid black;border-radius:10px;margin:20 auto;align-self:center;margin-bottom:20px;width:80%;max-width:350px}.buttonShifting1[_ngcontent-%COMP%], .buttonShifting2[_ngcontent-%COMP%]{flex:1;text-align:center;min-width:130px;margin:5px;font-family:Murecho,sans-serif;border-radius:10px;padding:10px 15px;cursor:pointer;border:none;transition:background-color .3s;text-decoration:none;display:inline-flex;justify-content:center;align-items:center;font-size:14px}.buttonShifting1[_ngcontent-%COMP%]{background-color:#fff;color:#000}.buttonShifting2[_ngcontent-%COMP%]{background-color:#313131;color:#fff}.buttonShifting1[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.buttonShifting2[_ngcontent-%COMP%]:hover{background-color:#000}.error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#d9534f;font-size:.85rem;margin-bottom:10px}"]})};var V=class a{isRegisterMode=!1;switchToRegister(){this.isRegisterMode=!0}switchToLogin(){this.isRegisterMode=!1}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=u({type:a,selectors:[["app-authentication"]],decls:11,vars:4,consts:[[1,"auth-container"],[1,"form-container","login-container"],[3,"switchToRegister"],[1,"form-container","register-container"],[3,"switchToLogin"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],[1,"imageContainer"],[1,"authImage",3,"src","alt"]],template:function(e,n){e&1&&(s(0,"app-header-nav"),t(1,"div",0)(2,"div",1)(3,"app-login-form",2),m("switchToRegister",function(){return n.switchToRegister()}),o()(),t(4,"div",3)(5,"app-register-form",4),m("switchToLogin",function(){return n.switchToLogin()}),o()(),t(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),s(10,"img",9),o()()()()()),e&2&&(g(),z("right-panel-active",n.isRegisterMode),g(9),p("src",n.isRegisterMode?"assets/images/signUpStoryset.png":"assets/images/loginStoryset.png",j)("alt",n.isRegisterMode?"register photo":"login photo"))},dependencies:[f,S,k,D],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100vh}.auth-container[_ngcontent-%COMP%]{position:relative;width:100%;height:calc(100vh - 64px);display:flex;overflow:hidden}.auth-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:50%;transition:all .6s ease-in-out;display:flex;align-items:center;justify-content:center;background:#fff;padding:2rem;box-sizing:border-box;overflow-y:auto}.auth-container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{max-width:100%;max-height:100%;display:flex;justify-content:center;align-items:center}.auth-container[_ngcontent-%COMP%]   .authImage[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;object-fit:contain;padding-top:0;margin:0;align-self:center;justify-self:center}.auth-container[_ngcontent-%COMP%]   .form-container.login-container[_ngcontent-%COMP%]{background:#7ca596}.auth-container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{right:0;transform:translate(0);z-index:2}.auth-container[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{left:0;transform:translate(100%);z-index:1}.auth-container.right-panel-active[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{transform:translate(-100%);z-index:1}.auth-container.right-panel-active[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{transform:translate(0);z-index:2}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0%;width:50%;height:100%;overflow:hidden;z-index:100;transition:transform .6s ease-in-out}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background:#7ca596;color:#fff;height:100%;width:100%;display:flex;transform:translate(0);transition:transform .6s ease-in-out}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2rem}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%], .auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(0)}.auth-container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(100%)}.auth-container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(0)}.overlay-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem;font-family:Murecho,sans-serif}.overlay-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Murecho,sans-serif}.overlay-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:1px solid white;border-radius:10px;color:#fff;font-family:Murecho,sans-serif;padding:12px 20px;cursor:pointer;margin-top:15px;transition:background-color .3s}.overlay-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fff3}mat-form-field[_ngcontent-%COMP%]{background-color:transparent;margin:0;border:none;height:55px;outline:none}mat-select[_ngcontent-%COMP%]{background-color:transparent;margin:0;padding:0;font-size:14px;outline:transparent;color:#fff;height:100%}"]})};export{V as AuthenticationComponent};
