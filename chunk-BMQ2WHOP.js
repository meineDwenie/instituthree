import{a as $,b as z,d as H,e as J,f as K,g as Q}from"./chunk-YEFIVP7E.js";import{a as L,b as V}from"./chunk-BOFTZJPA.js";import{I as G,K as j,M as k,N as B,b as w,c as T,g as q,h as R,k as A}from"./chunk-Z7IPVWHD.js";import{b as S,d as u,f as D,g as U,j as N,k as I,l as x,n as y,o as O,p as P}from"./chunk-3NOR6IXB.js";import{Fb as r,Gb as t,Hb as s,Hc as h,Ic as M,Kc as F,Nb as f,Ob as b,Ya as C,Yb as o,_a as a,_b as g,a as _,b as v,db as c,kb as E,pb as d,wb as l}from"./chunk-RHI7NKML.js";function X(i,n){if(i&1&&(r(0,"div",20),s(1,"img",21),t()),i&2){let m,e=b();a(),l("src",(m=e.userForm.get("photoUrl"))==null?null:m.value,C)}}function Y(i,n){i&1&&(r(0,"mat-error"),o(1,"Full name is required"),t())}function Z(i,n){i&1&&(r(0,"mat-error"),o(1,"Name must be at least 3 characters"),t())}function ee(i,n){i&1&&(r(0,"mat-error"),o(1,"Email is required"),t())}function te(i,n){i&1&&(r(0,"mat-error"),o(1,"Please enter a valid email"),t())}function ie(i,n){if(i&1&&(r(0,"mat-option",22),o(1),t()),i&2){let m=n.$implicit;l("value",m),a(),g(" ",m," ")}}function re(i,n){i&1&&(r(0,"mat-error"),o(1,"Role is required"),t())}function oe(i,n){if(i&1&&(r(0,"mat-option",22),o(1),t()),i&2){let m=n.$implicit;l("value",m),a(),g(" ",m," ")}}function ne(i,n){i&1&&(r(0,"mat-error"),o(1,"Status is required"),t())}var W=class i{constructor(n,m,e){this.fb=n;this.dialogRef=m;this.data=e;this.userForm=this.fb.group({id:[{value:"",disabled:!0}],fullName:["",[u.required,u.minLength(3)]],email:["",[u.required,u.email]],role:["",u.required],status:["",u.required],photoUrl:[""]})}userForm;roles=["Student","Professor","Admin","Tutor","Delegado"];statuses=["Active","Pending"];ngOnInit(){this.data.user&&this.userForm.patchValue({id:this.data.user.id,fullName:this.data.user.fullName,email:this.data.user.email,role:this.data.user.role,status:this.data.user.status,photoUrl:this.data.user.photoUrl})}onSubmit(){if(this.userForm.valid){let n=v(_({},this.userForm.getRawValue()),{id:this.data.user.id});this.dialogRef.close(n)}}onCancel(){this.dialogRef.close()}get fullName(){return this.userForm.get("fullName")}get email(){return this.userForm.get("email")}get role(){return this.userForm.get("role")}get status(){return this.userForm.get("status")}static \u0275fac=function(m){return new(m||i)(c(y),c($),c(z))};static \u0275cmp=E({type:i,selectors:[["app-edit-user-dialog"]],decls:48,vars:11,consts:[[1,"dialog-container"],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["mat-dialog-content",""],["class","avatar-preview",4,"ngIf"],[1,"form-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","id","readonly",""],["matInput","","formControlName","fullName","placeholder","Enter full name"],[4,"ngIf"],["matInput","","formControlName","email","placeholder","Enter email","type","email"],[1,"form-row","two-columns"],["appearance","outline"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],["matInput","","formControlName","photoUrl","placeholder","Enter photo URL"],["mat-dialog-actions","","align","end"],["mat-button","","type","button",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"avatar-preview"],["alt","User avatar",3,"src"],[3,"value"]],template:function(m,e){if(m&1&&(r(0,"div",0)(1,"h2",1),o(2,"Edit User"),t(),r(3,"form",2),f("ngSubmit",function(){return e.onSubmit()}),r(4,"div",3),d(5,X,2,1,"div",4),r(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),o(9,"ID"),t(),s(10,"input",7),t()(),r(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),o(14,"Full Name"),t(),s(15,"input",8),d(16,Y,2,0,"mat-error",9)(17,Z,2,0,"mat-error",9),t()(),r(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),o(21,"Email"),t(),s(22,"input",10),d(23,ee,2,0,"mat-error",9)(24,te,2,0,"mat-error",9),t()(),r(25,"div",11)(26,"mat-form-field",12)(27,"mat-label"),o(28,"Role"),t(),r(29,"mat-select",13),d(30,ie,2,2,"mat-option",14),t(),d(31,re,2,0,"mat-error",9),t(),r(32,"mat-form-field",12)(33,"mat-label"),o(34,"Status"),t(),r(35,"mat-select",15),d(36,oe,2,2,"mat-option",14),t(),d(37,ne,2,0,"mat-error",9),t()(),r(38,"div",5)(39,"mat-form-field",6)(40,"mat-label"),o(41,"Photo URL"),t(),s(42,"input",16),t()()(),r(43,"div",17)(44,"button",18),f("click",function(){return e.onCancel()}),o(45," Cancel "),t(),r(46,"button",19),o(47," Save "),t()()()()),m&2){let p;a(3),l("formGroup",e.userForm),a(2),l("ngIf",(p=e.userForm.get("photoUrl"))==null?null:p.value),a(11),l("ngIf",e.fullName==null||e.fullName.errors==null?null:e.fullName.errors.required),a(),l("ngIf",e.fullName==null||e.fullName.errors==null?null:e.fullName.errors.minlength),a(6),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),a(),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email),a(6),l("ngForOf",e.roles),a(),l("ngIf",e.role==null||e.role.errors==null?null:e.role.errors.required),a(5),l("ngForOf",e.statuses),a(),l("ngIf",e.status==null||e.status.errors==null?null:e.status.errors.required),a(9),l("disabled",!e.userForm.valid)}},dependencies:[F,h,M,Q,H,K,J,R,q,w,T,V,L,j,G,A,B,k,O,N,S,D,U,P,I,x],styles:[".dialog-container[_ngcontent-%COMP%]{padding:0;max-width:500px}.form-row[_ngcontent-%COMP%]{margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}.mat-mdc-dialog-title[_ngcontent-%COMP%]{padding:10px 24px 0;margin-bottom:0}.mat-mdc-dialog-container[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{padding:30px 24px 0}.form-row[_ngcontent-ng-c3525863421][_ngcontent-%COMP%]{margin-bottom:8px}.two-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.avatar-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px}.avatar-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:1px solid #000000}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:24px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 0;margin-bottom:0}.mat-mdc-raised-button[_ngcontent-%COMP%]:not(:disabled){color:#fff;background-color:#5884ac;border-radius:10px;padding:0 40px}.cancel-button[_ngcontent-%COMP%]{color:#5884ac!important;padding:0 20px;border-radius:10px}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#f4faff!important}"]})};export{W as a};
