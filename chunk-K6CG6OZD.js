import{a as z,b as H,d as J,e as K,f as Q,g as W}from"./chunk-YEFIVP7E.js";import{a as B,b as $}from"./chunk-BOFTZJPA.js";import{I as j,K as L,M as V,N as k,b as T,c as q,g as R,h as A,k as G}from"./chunk-Z7IPVWHD.js";import{b as D,d as s,f as w,g as F,j as y,k as U,l as I,m as x,n as N,o as O,p as P}from"./chunk-3NOR6IXB.js";import{Fb as i,Gb as t,Hb as u,Hc as b,Ic as M,Kc as S,Nb as c,Ob as g,Ya as C,Yb as o,_a as a,_b as _,a as v,b as E,db as f,kb as h,pb as d,wb as l}from"./chunk-RHI7NKML.js";function Y(r,m){if(r&1&&(i(0,"div",21),u(1,"img",22),t()),r&2){let n,e=g();a(),l("src",(n=e.userForm.get("photoUrl"))==null?null:n.value,C)}}function Z(r,m){r&1&&(i(0,"mat-error"),o(1,"Full name is required"),t())}function ee(r,m){r&1&&(i(0,"mat-error"),o(1,"Name must be at least 3 characters"),t())}function te(r,m){r&1&&(i(0,"mat-error"),o(1,"Email is required"),t())}function re(r,m){r&1&&(i(0,"mat-error"),o(1,"Please enter a valid email"),t())}function ie(r,m){r&1&&(i(0,"span"),o(1,"Password is required"),t())}function ne(r,m){r&1&&(i(0,"span"),o(1,"Minimum 6 characters"),t())}function oe(r,m){if(r&1&&(i(0,"mat-error"),d(1,ie,2,0,"span",9)(2,ne,2,0,"span",9),t()),r&2){let n=g();a(),l("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.required),a(),l("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.minlength)}}function ae(r,m){if(r&1&&(i(0,"mat-option",23),o(1),t()),r&2){let n=m.$implicit;l("value",n),a(),_(" ",n," ")}}function le(r,m){r&1&&(i(0,"mat-error"),o(1,"Role is required"),t())}function me(r,m){if(r&1&&(i(0,"mat-option",23),o(1),t()),r&2){let n=m.$implicit;l("value",n),a(),_(" ",n," ")}}function de(r,m){r&1&&(i(0,"mat-error"),o(1,"Status is required"),t())}var X=class r{constructor(m,n,e){this.fb=m;this.dialogRef=n;this.data=e;this.userForm=this.fb.group({id:[{value:"",disabled:!0}],fullName:["",[s.required,s.minLength(3)]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],role:["",s.required],status:["",s.required],photoUrl:[""]})}userForm;roles=["Student","Professor","Admin","Tutor","Delegado"];statuses=["Active","Pending"];ngOnInit(){this.data.user&&this.userForm.patchValue({id:this.data.user.id,fullName:this.data.user.fullName,email:this.data.user.email,role:this.data.user.role,status:this.data.user.status,photoUrl:this.data.user.photoUrl})}onSubmit(){if(this.userForm.valid){let m=E(v({},this.userForm.getRawValue()),{id:this.data.user.id});this.dialogRef.close(m)}}onCancel(){this.dialogRef.close()}get fullName(){return this.userForm.get("fullName")}get email(){return this.userForm.get("email")}get role(){return this.userForm.get("role")}get status(){return this.userForm.get("status")}get password(){return this.userForm.get("password")}static \u0275fac=function(n){return new(n||r)(f(N),f(z),f(H))};static \u0275cmp=h({type:r,selectors:[["app-edit-user-dialog"]],decls:54,vars:13,consts:[[1,"dialog-container"],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["mat-dialog-content",""],["class","avatar-preview",4,"ngIf"],[1,"form-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","id","readonly",""],["matInput","","formControlName","fullName","placeholder","Enter full name"],[4,"ngIf"],["matInput","","formControlName","email","placeholder","Enter email","type","email"],["matInput","","formControlName","password","required","",3,"type"],[1,"form-row","two-columns"],["appearance","outline"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],["matInput","","formControlName","photoUrl","placeholder","Enter photo URL"],["mat-dialog-actions","","align","end"],["mat-button","","type","button",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"avatar-preview"],["alt","User avatar",3,"src"],[3,"value"]],template:function(n,e){if(n&1&&(i(0,"div",0)(1,"h2",1),o(2,"Edit User"),t(),i(3,"form",2),c("ngSubmit",function(){return e.onSubmit()}),i(4,"div",3),d(5,Y,2,1,"div",4),i(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),o(9,"ID"),t(),u(10,"input",7),t()(),i(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),o(14,"Full Name"),t(),u(15,"input",8),d(16,Z,2,0,"mat-error",9)(17,ee,2,0,"mat-error",9),t()(),i(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),o(21,"Email"),t(),u(22,"input",10),d(23,te,2,0,"mat-error",9)(24,re,2,0,"mat-error",9),t()(),i(25,"div",5)(26,"mat-form-field",6)(27,"mat-label"),o(28,"Password"),t(),u(29,"input",11),d(30,oe,3,2,"mat-error",9),t()(),i(31,"div",12)(32,"mat-form-field",13)(33,"mat-label"),o(34,"Role"),t(),i(35,"mat-select",14),d(36,ae,2,2,"mat-option",15),t(),d(37,le,2,0,"mat-error",9),t(),i(38,"mat-form-field",13)(39,"mat-label"),o(40,"Status"),t(),i(41,"mat-select",16),d(42,me,2,2,"mat-option",15),t(),d(43,de,2,0,"mat-error",9),t()(),i(44,"div",5)(45,"mat-form-field",6)(46,"mat-label"),o(47,"Photo URL"),t(),u(48,"input",17),t()()(),i(49,"div",18)(50,"button",19),c("click",function(){return e.onCancel()}),o(51," Cancel "),t(),i(52,"button",20),o(53," Save "),t()()()()),n&2){let p;a(3),l("formGroup",e.userForm),a(2),l("ngIf",(p=e.userForm.get("photoUrl"))==null?null:p.value),a(11),l("ngIf",e.fullName==null||e.fullName.errors==null?null:e.fullName.errors.required),a(),l("ngIf",e.fullName==null||e.fullName.errors==null?null:e.fullName.errors.minlength),a(6),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),a(),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email),a(5),l("type","password"),a(),l("ngIf",(e.password==null?null:e.password.invalid)&&((e.password==null?null:e.password.dirty)||(e.password==null?null:e.password.touched))),a(6),l("ngForOf",e.roles),a(),l("ngIf",e.role==null||e.role.errors==null?null:e.role.errors.required),a(5),l("ngForOf",e.statuses),a(),l("ngIf",e.status==null||e.status.errors==null?null:e.status.errors.required),a(9),l("disabled",!e.userForm.valid)}},dependencies:[S,b,M,W,J,Q,K,A,R,T,q,$,B,L,j,G,k,V,O,y,D,w,F,x,P,U,I],styles:[".dialog-container[_ngcontent-%COMP%]{padding:0;max-width:500px}.form-row[_ngcontent-%COMP%]{margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}.mat-mdc-dialog-title[_ngcontent-%COMP%]{padding:10px 24px 0;margin-bottom:0}.mat-mdc-dialog-container[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{padding:30px 24px 0}.form-row[_ngcontent-ng-c3525863421][_ngcontent-%COMP%]{margin-bottom:8px}.two-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.avatar-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px}.avatar-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:1px solid #000000}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:24px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 0;margin-bottom:0}.mat-mdc-raised-button[_ngcontent-%COMP%]:not(:disabled){color:#fff;background-color:#5884ac;border-radius:10px;padding:0 40px}.cancel-button[_ngcontent-%COMP%]{color:#5884ac!important;padding:0 20px;border-radius:10px}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#f4faff!important}"]})};export{X as a};
