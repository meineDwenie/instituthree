import{a as J}from"./chunk-UNWTPO55.js";import{a as h}from"./chunk-IS6XXWGX.js";import"./chunk-MS4AQ6UA.js";import{a as B}from"./chunk-7RWCIHFI.js";import"./chunk-KQLLMZD5.js";import{g as U,l as y,q as S}from"./chunk-5DCULCAW.js";import{b as H,d as R,f as p,h as E,i as F,l as k,m as T,n as I,p as L,r as N}from"./chunk-ZCK6LY7T.js";import{Fb as e,Gb as o,Hb as m,Ib as z,Jb as q,Jc as C,Lb as O,Lc as x,Nb as g,Ob as u,Ya as V,Yb as a,_a as c,_b as w,db as d,ec as G,ka as M,kb as _,la as v,pb as f,ua as P,wb as l,yb as D}from"./chunk-PUOMKCPY.js";function nt(i,r){if(i&1&&(e(0,"div",17),a(1),o()),i&2){let t=u();c(),w(" ",t.loginError," ")}}var A=class i{constructor(r,t,n){this.fb=r;this.router=t;this.authService=n;this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required]]})}switchToRegister=new P;loginForm;loginError=null;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSwitchToRegister(){this.switchToRegister.emit()}onLogin(){if(this.loginError=null,this.loginForm.valid){let{email:r,password:t}=this.loginForm.value,n={email:r,password:t};this.authService.login(n).subscribe({next:s=>{console.log("Login successful:",s),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/user-management"])})},error:s=>{console.error("Login failed:",s),this.loginError=s.message||"Login failed. Please check your credentials."}})}else console.log("Form is invalid")}static \u0275fac=function(t){return new(t||i)(d(L),d(y),d(h))};static \u0275cmp=_({type:i,selectors:[["app-login-form"]],outputs:{switchToRegister:"switchToRegister"},decls:28,vars:3,consts:[[1,"login-form-container"],[1,"buttonsContainer"],["href","javascript:void(0)",1,"buttonShifting1"],["href","javascript:void(0)",1,"buttonShifting2",3,"click"],[1,"contenido"],[1,"contenedorEtiqueta"],[1,"etiqueta"],["class","error-alert",4,"ngIf"],[3,"ngSubmit","formGroup"],["for","emailLogin"],[1,"letralabel"],["type","email","id","emailLogin","formControlName","email","placeholder","example@email.com"],["for","passwordLogin"],["type","password","id","passwordLogin","formControlName","password","placeholder","Enter your password here"],["type","submit",1,"signupButton",3,"disabled"],[1,"etiquetaRegistro"],["href","javascript:void(0)",3,"click"],[1,"error-alert"]],template:function(t,n){t&1&&(e(0,"div",0)(1,"div",1)(2,"a",2),a(3,"Login"),o(),e(4,"a",3),g("click",function(){return n.onSwitchToRegister()}),a(5,"Create Account"),o()(),e(6,"div",4)(7,"div",5)(8,"h1",6),a(9,"Let's login your details to start."),o()(),f(10,nt,2,1,"div",7),e(11,"div")(12,"form",8),g("ngSubmit",function(){return n.onLogin()}),e(13,"label",9)(14,"b",10),a(15,"E-mail address"),o()(),m(16,"input",11),e(17,"label",12)(18,"b"),a(19,"Password"),o()(),m(20,"input",13),e(21,"button",14),a(22," Enter "),o()(),e(23,"p",15),a(24," Don't have any account yet? "),e(25,"a",16),g("click",function(){return n.onSwitchToRegister()}),e(26,"b"),a(27,"Register"),o()()()()()()),t&2&&(c(10),l("ngIf",n.loginError),c(2),l("formGroup",n.loginForm),c(9),l("disabled",n.loginForm.invalid))},dependencies:[N,k,R,E,F,T,I,x,C,S],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.login-form-container[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:34px 26px;border-radius:20px;display:flex;flex-direction:column;background:#fff;box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.contenido[_ngcontent-%COMP%]{margin:0;width:100%;flex:1}.contenedorEtiqueta[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;margin-bottom:1rem}.etiqueta[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;font-weight:300;font-size:1.5rem;align-self:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}label[_ngcontent-%COMP%]{font-family:sans-serif;margin-bottom:8px}input[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:20px;padding:12px;border:1px solid #000000;height:auto;width:100%;box-sizing:border-box}.signupButton[_ngcontent-%COMP%]{background-color:#313131;color:#fff;font-weight:500;font-size:16px;font-family:Murecho,sans-serif;border-radius:10px;padding:12px 20px;border:none;cursor:pointer;transition:background-color .3s}.signupButton[_ngcontent-%COMP%]:hover{background-color:#26a08c}.signupButton[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.etiquetaRegistro[_ngcontent-%COMP%]{text-align:center;font-family:Murecho,sans-serif;margin-top:1rem;cursor:pointer}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;color:inherit;text-decoration:none}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.buttonsContainer[_ngcontent-%COMP%]{display:flex;border:2px solid black;border-radius:10px;width:80%;max-width:350px;justify-content:center;align-items:center;margin:0 auto;align-self:center}.buttonShifting1[_ngcontent-%COMP%], .buttonShifting2[_ngcontent-%COMP%]{flex:1;text-align:center;width:50%;margin:5px;font-family:Murecho,sans-serif;border-radius:10px;padding:10px 15px;cursor:pointer;border:none;transition:background-color .3s;text-decoration:none;display:inline-flex;justify-content:center;align-items:center;font-size:14px}.buttonShifting1[_ngcontent-%COMP%]{background-color:#313131;color:#fff}.buttonShifting2[_ngcontent-%COMP%]{background-color:#fff;color:#000}.buttonShifting1[_ngcontent-%COMP%]:hover{background-color:#000}.buttonShifting2[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#d9534f;font-size:.85rem}.error-alert[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;padding:10px;border-radius:4px;margin-bottom:15px;border:1px solid #ef9a9a;font-size:14px;font-family:Murecho,sans-serif}.validation-error[_ngcontent-%COMP%]{color:#c62828;font-size:12px;margin-top:-10px;margin-bottom:10px}"]})};function ot(i,r){if(i&1&&(e(0,"div",25),a(1),o()),i&2){let t=u();c(),w(" ",t.registrationError," ")}}function it(i,r){i&1&&(e(0,"div",26)(1,"small"),a(2,"Passwords do not match"),o()())}var j=class i{constructor(r,t,n){this.fb=r;this.router=t;this.authService=n;this.registerForm=this.fb.group({username:["",[p.required]],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required]],name:["",[p.required]],lastName:["",[p.required]]},{validators:this.passwordMatchValidator})}switchToLogin=new P;registerForm;registrationError=null;ngOnInit(){}passwordMatchValidator(r){let t=r.get("password"),n=r.get("confirmPassword");return t&&n&&t.value!==n.value?{passwordMismatch:!0}:null}onSwitchToLogin(){this.switchToLogin.emit()}onRegister(){if(this.registrationError=null,this.registerForm.valid){let{username:r,email:t,password:n,name:s,lastName:Z}=this.registerForm.value,$={username:r,email:t,password:n,name:s,lastName:Z,status:!0};this.authService.register($).subscribe({next:b=>{console.log("Registration successful:",b),this.router.navigate(["/user-management"])},error:b=>{console.error("Registration failed:",b),this.registrationError=b.message||"Registration failed. Please try again."}})}else Object.keys(this.registerForm.controls).forEach(r=>{this.registerForm.get(r)?.markAsTouched()}),console.log("Form is invalid")}static \u0275fac=function(t){return new(t||i)(d(L),d(y),d(h))};static \u0275cmp=_({type:i,selectors:[["app-register-form"]],outputs:{switchToLogin:"switchToLogin"},decls:38,vars:4,consts:[[1,"register-form-container"],[1,"buttonsContainer"],["href","javascript:void(0)",1,"buttonShifting1",3,"click"],["href","javascript:void(0)",1,"buttonShifting2"],[1,"content"],[1,"labelContainer"],[1,"etiqueta"],["class","error-alert",4,"ngIf"],[3,"ngSubmit","formGroup"],["for","usernameRegisterInput"],["type","text","id","usernameRegisterInput","formControlName","username","placeholder","Choose a username"],["for","emailRegisterInput"],["type","email","id","emailRegisterInput","formControlName","email","placeholder","example@email.com"],["for","passwordRegisterInput"],["type","password","id","passwordRegisterInput","formControlName","password","placeholder","Enter your password"],["for","passwordRepetitionRegisterInput"],["type","password","id","passwordRepetitionRegisterInput","formControlName","confirmPassword","placeholder","Enter your password again"],["for","nameRegisterInput"],["type","text","id","nameRegisterInput","formControlName","name","placeholder","Enter your name"],["for","lastNamesRegisterInput"],["type","text","id","lastNamesRegisterInput","formControlName","lastName","placeholder","Enter your last name"],["class","error",4,"ngIf"],["type","submit",1,"createAccountButton",3,"disabled"],[1,"etiquetaRegistro"],["href","javascript:void(0)",3,"click"],[1,"error-alert"],[1,"error"]],template:function(t,n){t&1&&(e(0,"div",0)(1,"div",1)(2,"a",2),g("click",function(){return n.onSwitchToLogin()}),a(3,"Login"),o(),e(4,"a",3),a(5,"Create Account"),o()(),e(6,"div",4)(7,"div",5)(8,"h1",6),a(9,"Let's create your account."),o()(),f(10,ot,2,1,"div",7),e(11,"form",8),g("ngSubmit",function(){return n.onRegister()}),e(12,"label",9),a(13,"Username"),o(),m(14,"input",10),e(15,"label",11),a(16,"Email"),o(),m(17,"input",12),e(18,"label",13),a(19,"Password"),o(),m(20,"input",14),e(21,"label",15),a(22,"Confirm Password"),o(),m(23,"input",16),e(24,"label",17),a(25,"Name"),o(),m(26,"input",18),e(27,"label",19),a(28,"Last Name"),o(),m(29,"input",20),f(30,it,3,0,"div",21),e(31,"button",22),a(32," Create Account "),o()(),e(33,"p",23),a(34," Already have an account? "),e(35,"a",24),g("click",function(){return n.onSwitchToLogin()}),e(36,"b"),a(37,"Login"),o()()()()()),t&2&&(c(10),l("ngIf",n.registrationError),c(),l("formGroup",n.registerForm),c(19),l("ngIf",n.registerForm.hasError("passwordMismatch")),c(),l("disabled",n.registerForm.invalid))},dependencies:[N,k,R,E,F,T,I,x,C,S,U],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.register-form-container[_ngcontent-%COMP%]{width:100%;max-width:450px;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}input[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:15px;padding:12px;border:1px solid #000000;height:auto;width:100%;box-sizing:border-box}label[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;margin-bottom:6px;font-weight:500}.labelContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-bottom:10px}.etiqueta[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;font-weight:300;font-size:1.5rem;margin:0;align-self:center}.etiquetaRegistro[_ngcontent-%COMP%]{margin-top:10px;font-family:Murecho,sans-serif;align-self:center;text-align:center}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Murecho,sans-serif;color:inherit;text-decoration:none}.etiquetaRegistro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.createAccountButton[_ngcontent-%COMP%]{background-color:#313131;color:#fff;font-family:Murecho,sans-serif;border:none;border-radius:10px;padding:15px;cursor:pointer;font-size:1rem;margin-top:10px}.createAccountButton[_ngcontent-%COMP%]:hover{background-color:#000}.createAccountButton[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.buttonsContainer[_ngcontent-%COMP%]{display:flex;border:2px solid black;border-radius:10px;margin:20 auto;align-self:center;margin-bottom:20px;width:80%;max-width:350px}.buttonShifting1[_ngcontent-%COMP%], .buttonShifting2[_ngcontent-%COMP%]{flex:1;text-align:center;min-width:130px;margin:5px;font-family:Murecho,sans-serif;border-radius:10px;padding:10px 15px;cursor:pointer;border:none;transition:background-color .3s;text-decoration:none;display:inline-flex;justify-content:center;align-items:center;font-size:14px}.buttonShifting1[_ngcontent-%COMP%]{background-color:#fff;color:#000}.buttonShifting2[_ngcontent-%COMP%]{background-color:#313131;color:#fff}.buttonShifting1[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.buttonShifting2[_ngcontent-%COMP%]:hover{background-color:#000}.error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#d9534f;font-size:.85rem;margin-bottom:10px}.error-alert[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;padding:10px;border-radius:4px;margin-bottom:15px;border:1px solid #ef9a9a;font-size:14px;font-family:Murecho,sans-serif}.validation-error[_ngcontent-%COMP%]{color:#c62828;font-size:12px;margin-top:-10px;margin-bottom:10px}"]})};function rt(i,r){if(i&1){let t=O();e(0,"app-login-form",5),g("switchToRegister",function(){M(t);let s=u(2);return v(s.switchToRegister())}),o()}}function at(i,r){if(i&1){let t=O();e(0,"app-register-form",6),g("switchToLogin",function(){M(t);let s=u(2);return v(s.switchToLogin())}),o()}}function st(i,r){if(i&1&&(z(0),e(1,"div",2),f(2,rt,1,0,"app-login-form",3)(3,at,1,0,"app-register-form",4),o(),q()),i&2){let t=u();c(2),l("ngIf",!t.isRegisterMode),c(),l("ngIf",t.isRegisterMode)}}function ct(i,r){if(i&1){let t=O();z(0),e(1,"div",7)(2,"app-login-form",5),g("switchToRegister",function(){M(t);let s=u();return v(s.switchToRegister())}),o()(),e(3,"div",8)(4,"app-register-form",6),g("switchToLogin",function(){M(t);let s=u();return v(s.switchToLogin())}),o()(),e(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12),m(9,"img",13),o()()()(),q()}if(i&2){let t=u();c(9),l("src",t.isRegisterMode?"assets/images/signUpStoryset.png":"assets/images/loginStoryset.png",V)("alt",t.isRegisterMode?"register photo":"login photo")}}var Y=class i{constructor(r,t){this.auth=r;this.breakpointObserver=t}isRegisterMode=!1;isSmallScreen=!1;ngOnInit(){this.auth.initMockData(),this.breakpointObserver.observe([B.Handset,B.Tablet]).subscribe(r=>{this.isSmallScreen=r.matches,this.isSmallScreen&&(this.isRegisterMode=!1)})}switchToRegister(){this.isRegisterMode=!0}switchToLogin(){this.isRegisterMode=!1}static \u0275fac=function(t){return new(t||i)(d(h),d(H))};static \u0275cmp=_({type:i,selectors:[["app-authentication"]],features:[G([h])],decls:4,vars:4,consts:[[1,"auth-container"],[4,"ngIf"],[1,"form-container","single-form-container"],[3,"switchToRegister",4,"ngIf"],[3,"switchToLogin",4,"ngIf"],[3,"switchToRegister"],[3,"switchToLogin"],[1,"form-container","login-container"],[1,"form-container","register-container"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],[1,"imageContainer"],[1,"authImage",3,"src","alt"]],template:function(t,n){t&1&&(m(0,"app-header-nav"),e(1,"div",0),f(2,st,4,2,"ng-container",1)(3,ct,10,2,"ng-container",1),o()),t&2&&(c(),D("right-panel-active",n.isRegisterMode),c(),l("ngIf",n.isSmallScreen),c(),l("ngIf",!n.isSmallScreen))},dependencies:[x,C,A,J,j],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;height:100vh}.auth-container[_ngcontent-%COMP%]{position:relative;width:100%;height:calc(100vh - 64px);display:flex;overflow:hidden}.auth-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:50%;transition:all .6s ease-in-out;display:flex;align-items:center;justify-content:center;background:#fff;padding:2rem;box-sizing:border-box;overflow-y:auto}.auth-container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{max-width:100%;max-height:100%;display:flex;justify-content:center;align-items:center}.auth-container[_ngcontent-%COMP%]   .authImage[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;object-fit:contain;padding-top:0;margin:0;align-self:center;justify-self:center}.auth-container[_ngcontent-%COMP%]   .form-container.login-container[_ngcontent-%COMP%]{background:#7ca596}.auth-container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{right:0;transform:translate(0);z-index:2}.auth-container[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{left:0;transform:translate(100%);z-index:1}.auth-container.right-panel-active[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{transform:translate(-100%);z-index:1}.auth-container.right-panel-active[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{transform:translate(0);z-index:2}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0%;width:50%;height:100%;overflow:hidden;z-index:100;transition:transform .6s ease-in-out}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background:#7ca596;color:#fff;height:100%;width:100%;display:flex;transform:translate(0);transition:transform .6s ease-in-out}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2rem}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%], .auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(0)}.auth-container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(100%)}.auth-container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(0)}.overlay-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem;font-family:Murecho,sans-serif}.overlay-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Murecho,sans-serif}.overlay-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:1px solid white;border-radius:10px;color:#fff;font-family:Murecho,sans-serif;padding:12px 20px;cursor:pointer;margin-top:15px;transition:background-color .3s}.overlay-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fff3}mat-form-field[_ngcontent-%COMP%]{background-color:transparent;margin:0;border:none;height:55px;outline:none}mat-select[_ngcontent-%COMP%]{background-color:transparent;margin:0;padding:0;font-size:14px;outline:transparent;color:#fff;height:100%}.single-form-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;padding:2rem;box-sizing:border-box}@media (max-width: 600px){.auth-container[_ngcontent-%COMP%]{flex-direction:column;height:auto}.auth-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:100%;position:relative;transform:none!important;left:0!important;right:0!important;height:100vh}.auth-container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%], .auth-container[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{z-index:auto!important}.auth-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{background-color:#7ca596}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{display:none}.login-form-container[_ngcontent-%COMP%], .register-form-container[_ngcontent-%COMP%]{max-width:100%;padding:20px 15px;box-shadow:none}.buttonsContainer[_ngcontent-%COMP%]{flex-direction:column;width:100%;max-width:100%}.buttonShifting1[_ngcontent-%COMP%], .buttonShifting2[_ngcontent-%COMP%]{min-width:auto;width:100%;margin:5px 0}.etiqueta[_ngcontent-%COMP%]{font-size:1.25rem}input[_ngcontent-%COMP%]{font-size:14px}.signupButton[_ngcontent-%COMP%], .createAccountButton[_ngcontent-%COMP%]{font-size:15px}}@media (min-width: 601px) and (max-width: 1024px){.auth-container[_ngcontent-%COMP%]{height:auto}.auth-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:100%;position:relative;transform:none!important}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{width:100%;position:relative;height:auto;display:none}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{flex-direction:column;padding:20px}.auth-container[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]   .overlay-panel[_ngcontent-%COMP%]{padding:1rem}.login-form-container[_ngcontent-%COMP%], .register-form-container[_ngcontent-%COMP%]{max-width:90%;padding:24px}.buttonsContainer[_ngcontent-%COMP%]{width:90%;max-width:300px}.buttonShifting1[_ngcontent-%COMP%], .buttonShifting2[_ngcontent-%COMP%]{font-size:13px}.authImage[_ngcontent-%COMP%]{max-height:100vh}}']})};export{Y as AuthenticationComponent};
