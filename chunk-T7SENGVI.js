import{a as z,b as H,c as J,d as K,f as Q,g as W,h as X,i as Y}from"./chunk-NAX2RAWJ.js";import{O as R,P as L,T as A,U as G,X as j,b as F,d,f as U,g as y,j as I,k as x,l as N,m as O,n as P,o as q,p as T,ta as V,va as k,xa as B,ya as $}from"./chunk-6YGK5VPP.js";import{Fb as i,Gb as t,Hb as p,Hc as S,Ic as w,Kc as D,Nb as _,Ob as v,Ya as b,Yb as n,_a as o,_b as E,a as h,b as C,db as c,kb as M,pb as s,wb as l}from"./chunk-ZJGJM7HA.js";function ee(r,m){if(r&1&&(i(0,"div",22),p(1,"img",23),t()),r&2){let a,e=v();o(),l("src",(a=e.userForm.get("photoUrl"))==null?null:a.value,b)}}function te(r,m){r&1&&(i(0,"mat-error"),n(1," First name is required "),t())}function re(r,m){r&1&&(i(0,"mat-error"),n(1,"Name must be at least 3 characters"),t())}function ie(r,m){r&1&&(i(0,"mat-error"),n(1," Last name is required "),t())}function ne(r,m){r&1&&(i(0,"mat-error"),n(1," Last name must be at least 3 characters "),t())}function ae(r,m){r&1&&(i(0,"mat-error"),n(1,"Email is required"),t())}function oe(r,m){r&1&&(i(0,"mat-error"),n(1,"Please enter a valid email"),t())}function le(r,m){r&1&&(i(0,"span"),n(1,"Password is required"),t())}function me(r,m){r&1&&(i(0,"span"),n(1,"Minimum 6 characters"),t())}function se(r,m){if(r&1&&(i(0,"mat-error"),s(1,le,2,0,"span",9)(2,me,2,0,"span",9),t()),r&2){let a=v();o(),l("ngIf",a.password==null||a.password.errors==null?null:a.password.errors.required),o(),l("ngIf",a.password==null||a.password.errors==null?null:a.password.errors.minlength)}}function de(r,m){if(r&1&&(i(0,"mat-option",24),n(1),t()),r&2){let a=m.$implicit;l("value",a),o(),E(" ",a," ")}}function pe(r,m){r&1&&(i(0,"mat-error"),n(1,"Role is required"),t())}function ue(r,m){if(r&1&&(i(0,"mat-option",24),n(1),t()),r&2){let a=m.$implicit;l("value",a),o(),E(" ",a," ")}}function ce(r,m){r&1&&(i(0,"mat-error"),n(1,"Status is required"),t())}var Z=class r{constructor(m,a,e){this.fb=m;this.dialogRef=a;this.data=e;this.userForm=this.fb.group({id:[{value:"",disabled:!0}],name:["",[d.required,d.minLength(2)]],lastName:["",[d.required,d.minLength(2)]],email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]],role:["",d.required],status:["",d.required],photoUrl:[""]})}userForm;roles=["Usuario","Admin"];statuses=["Active","Pending"];ngOnInit(){this.data?.user&&this.userForm.patchValue({id:this.data.user.id,name:this.data.user.name,lastName:this.data.user.lastName,email:this.data.user.email,password:this.data.user.password,role:this.data.user.role,status:this.data.user.status,photoUrl:this.data.user.photoUrl})}onSubmit(){if(this.userForm.valid&&this.data?.user){let m=C(h({},this.userForm.getRawValue()),{id:this.data.user.id});this.dialogRef.close(m)}}onCancel(){this.dialogRef.close()}get name(){return this.userForm.get("name")}get lastName(){return this.userForm.get("lastName")}get email(){return this.userForm.get("email")}get role(){return this.userForm.get("role")}get status(){return this.userForm.get("status")}get password(){return this.userForm.get("password")}static \u0275fac=function(a){return new(a||r)(c(P),c(J),c(K))};static \u0275cmp=M({type:r,selectors:[["app-edit-user-dialog"]],decls:61,vars:15,consts:[[1,"dialog-container"],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["mat-dialog-content",""],["class","avatar-preview",4,"ngIf"],[1,"form-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","id","readonly",""],["matInput","","formControlName","name","placeholder","Enter first name"],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter last name"],["matInput","","formControlName","email","placeholder","Enter email","type","email"],["matInput","","formControlName","password","required","",3,"type"],[1,"form-row","two-columns"],["appearance","outline"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],["matInput","","formControlName","photoUrl","placeholder","Enter photo URL"],["mat-dialog-actions","","align","end"],["mat-button","","type","button",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"avatar-preview"],["alt","User avatar",3,"src"],[3,"value"]],template:function(a,e){if(a&1&&(i(0,"div",0)(1,"h2",1),n(2,"Edit User"),t(),i(3,"form",2),_("ngSubmit",function(){return e.onSubmit()}),i(4,"div",3),s(5,ee,2,1,"div",4),i(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),n(9,"ID"),t(),p(10,"input",7),t()(),i(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),n(14,"First Name"),t(),p(15,"input",8),s(16,te,2,0,"mat-error",9)(17,re,2,0,"mat-error",9),t()(),i(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),n(21,"Last Name"),t(),p(22,"input",10),s(23,ie,2,0,"mat-error",9)(24,ne,2,0,"mat-error",9),t()(),i(25,"div",5)(26,"mat-form-field",6)(27,"mat-label"),n(28,"Email"),t(),p(29,"input",11),s(30,ae,2,0,"mat-error",9)(31,oe,2,0,"mat-error",9),t()(),i(32,"div",5)(33,"mat-form-field",6)(34,"mat-label"),n(35,"Password"),t(),p(36,"input",12),s(37,se,3,2,"mat-error",9),t()(),i(38,"div",13)(39,"mat-form-field",14)(40,"mat-label"),n(41,"Role"),t(),i(42,"mat-select",15),s(43,de,2,2,"mat-option",16),t(),s(44,pe,2,0,"mat-error",9),t(),i(45,"mat-form-field",14)(46,"mat-label"),n(47,"Status"),t(),i(48,"mat-select",17),s(49,ue,2,2,"mat-option",16),t(),s(50,ce,2,0,"mat-error",9),t()(),i(51,"div",5)(52,"mat-form-field",6)(53,"mat-label"),n(54,"Photo URL"),t(),p(55,"input",18),t()()(),i(56,"div",19)(57,"button",20),_("click",function(){return e.onCancel()}),n(58," Cancel "),t(),i(59,"button",21),n(60," Save "),t()()()()),a&2){let u,g,f;o(3),l("formGroup",e.userForm),o(2),l("ngIf",(u=e.userForm.get("photoUrl"))==null?null:u.value),o(11),l("ngIf",(g=e.userForm.get("name"))==null||g.errors==null?null:g.errors.required),o(),l("ngIf",e.name==null||e.name.errors==null?null:e.name.errors.minlength),o(6),l("ngIf",(f=e.userForm.get("lastName"))==null||f.errors==null?null:f.errors.required),o(),l("ngIf",e.lastName==null||e.lastName.errors==null?null:e.lastName.errors.minlength),o(6),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),o(),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email),o(5),l("type","password"),o(),l("ngIf",(e.password==null?null:e.password.invalid)&&((e.password==null?null:e.password.dirty)||(e.password==null?null:e.password.touched))),o(6),l("ngForOf",e.roles),o(),l("ngIf",e.role==null||e.role.errors==null?null:e.role.errors.required),o(5),l("ngForOf",e.statuses),o(),l("ngIf",e.status==null||e.status.errors==null?null:e.status.errors.required),o(9),l("disabled",!e.userForm.valid)}},dependencies:[D,S,w,Y,Q,X,W,G,A,R,L,H,z,k,V,j,$,B,q,I,F,U,y,O,T,x,N],styles:[".dialog-container[_ngcontent-%COMP%]{padding:0;max-width:500px}.form-row[_ngcontent-%COMP%]{margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}.mat-mdc-dialog-title[_ngcontent-%COMP%]{padding:10px 24px 0;margin-bottom:0}.mat-mdc-dialog-container[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{padding:30px 24px 0}.form-row[_ngcontent-ng-c3525863421][_ngcontent-%COMP%]{margin-bottom:8px}.two-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.avatar-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px}.avatar-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:1px solid #000000}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:24px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 0;margin-bottom:0}.mat-mdc-raised-button[_ngcontent-%COMP%]:not(:disabled){color:#fff;background-color:#5884ac;border-radius:10px;padding:0 40px}.cancel-button[_ngcontent-%COMP%]{color:#5884ac!important;padding:0 20px;border-radius:10px}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#f4faff!important}"]})};export{Z as a};
